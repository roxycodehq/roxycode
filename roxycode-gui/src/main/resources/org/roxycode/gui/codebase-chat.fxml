<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.web.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox spacing="15" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="org.roxycode.gui.CodebaseChatController" styleClass="chat-container">
    
    <HBox spacing="15" alignment="CENTER_LEFT">
        <Button text="Select Folder" onAction="#handleSelectFolder" styleClass="modern-button, secondary-button"/>
        <Label fx:id="pathLabel" text="No folder selected" HBox.hgrow="ALWAYS" maxWidth="300" textOverrun="CENTER_ELLIPSIS" styleClass="project-name" />
        <Label fx:id="sizeLabel" text="" styleClass="stats-label" />
        <Label fx:id="tokenLabel" text="" styleClass="stats-label" />
        <ComboBox fx:id="agentComboBox" promptText="Select Agent" styleClass="modern-text-field" />
        <Region HBox.hgrow="ALWAYS" />
        
        
        
        <Separator orientation="VERTICAL" />
        <HBox alignment="CENTER" spacing="5" styleClass="status-badge">
            <Label text="Agent:" styleClass="stats-label" />
            <Label fx:id="agentNameLabel" text="-" styleClass="stats-value" />
        </HBox>
        <HBox alignment="CENTER" spacing="5" styleClass="status-badge">
            <Label text="Turns:" styleClass="stats-label" />
            <Label fx:id="turnsLabel" text="0" styleClass="stats-value" />
        </HBox>
        <HBox alignment="CENTER" spacing="5" styleClass="status-badge">
            <Label text="History:" styleClass="stats-label" />
            <Label fx:id="historyLabel" text="0" styleClass="stats-value" />
        </HBox>
        <Label fx:id="statusLabel" text="Status: Ready" styleClass="status-label"/>
    </HBox>

    <WebView fx:id="chatWebView" VBox.vgrow="ALWAYS" />

    <HBox spacing="15" styleClass="input-area" alignment="CENTER">
        <TextField fx:id="chatInput" HBox.hgrow="ALWAYS" onAction="#handleSendMessage" 
                   promptText="Ask about your code..." styleClass="modern-text-field"/>
        <Button text="Send" onAction="#handleSendMessage" styleClass="modern-button"/>
    </HBox>
</VBox>
